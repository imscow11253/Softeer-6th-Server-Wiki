# 📚 자바에서 정적 파일 읽는 방식 

규현님이 내 코드 리뷰를 해주시면서 ClassLoader 객체로 정적 파일을 읽는 것의 방식을 여쭈어보셨다. 
규현님은 File 객체를 통해 읽어와 stream으로 변환하는데 난 ClassLoader를 통해 바로 inputStream으로 반환 받는다.

물어보셨는데 내가 이해가 부족해서 잘 답변을 못드렸다. 내가 짠 코드인데 내가 답변을 잘 못했다. 
그래서 이번 기회에 자바에서 정적 리소스를 읽어오는 방식을 학습해보려고 한다.

## Class Loader로 읽어오기
JVM을 학습할 때 자바 바이트 코드를 런타임 메모리 영역에 올리는 Class Loader를 학습했었다. 
이걸 활용해서 우리 자바 프로젝트 내에 있는 src/main/resources 경로 (default) 혹은 지정된 경로로 접근해서 정적 파일을 읽어오는 것이다. 

즉 Class Loader를 활용해 정적파일을 접근하는 방식은 현재 내가 실행하고 있는 자바 프로젝트 내의 파일이나 
실행되고 있는 jar 패키지 안의 정적 파일만 접근이 가능하다. 

동작의 주체가 JVM의 Class Loader이다.

## File 객체를 통해 읽어오기
File 객체를 통해 읽어오는 방식은 JVM이 Class Loader와는 무관하게 외부 디스크를 직접 참조하는 것이다.
File 객체를 생성하면 OS의 파일 시스템에 직접 접근해서 참조하는 방식이다. 

즉 프로젝트 내부의 정적 파일이나 jar 패키지 내의 정적 파일이 아닌 외부 파일도 참조가 가능하다. 

## 차이
| 접근 방식 | 동작 주체       | 대상 위치 | 내부 메커니즘        |
| --- |-------------| -- |----------------|
| File 객체 | OS의 파일 시스템  | 디스크 파일 | OS 파일 API      |  
| ClassLoader | JVM의 Class Loader | jar/classpath | 자바 런타임 리소스 로딩  | 


## 장단점 
| 방식 | 장점 | 단점 | 
|--- | ---| --- |
| File | 1. 읽기, 쓰기, 삭제 모두 가능 </br> 2. 동적 파일 처리 최적 (런타임 시에 수정) </br> 3. 외부 리소스 접근 가능 | 1. OS에 의존 </br> 2. 배포이식성 저하 (jar 패키지로 묶을 수 x) | 
| ClassLoader | 1. 배포 용이성 (jar 패키지로 정적 리소스 묶을 수 o) </br> 2. OS 환경에 독립적 | 1. 쓰기 작업 불가 </br> 2. 외부 파일 접근 불가 |

