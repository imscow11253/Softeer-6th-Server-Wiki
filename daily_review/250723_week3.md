# ✅ 1. 리뷰
## 오늘 한 것
### 1. 오전 세션
- OSI 7계층, TCP/UDP 4계층
- http에서 state를 기억하기 위한 방법 (쿠키, 세션, 토큰)
- CICD, 배포전략, 모니터링

### 2. 리팩토링
- http 문자열을 파싱하는 Util 클래스 StringParser가 너무 방대해지고 중복코드가 늘어났다.
- key-value 형태를 가지는 문자열 파싱하는 메소드 통합

### 3. 3주차 과제
- 메인페이지 게시글 동적 렌더링 진행

## 작업 과정에서 배운 것
### 1. 세션에 대한 이해
- 세션을 알고있다 생각했는데, 질의응답하면서 내가 제대로 모른다는 것을 깨달았다.
- 내가 잘 알고 있는지 모른다면 타인에게 설명해보자.

### 2. 리팩토링은 시간날 때마다 하자.
- 공통된 로직으로 빼낼 수 있음에도 귀찮아서 유틸 클래스에 새로운 메소드를 계속 생성하다보니 레거시(?)가 되었다.
- 중복 코드도 많았고, SRP를 지키지 못했다. 
- 이번에 마음을 다잡고 리팩토링을 했다. 미리 했다면 좀 쉬웠을걸 하면서 후회를 하면서도 이제라도 해서 다행이라는 생각이 들었다. 
- 리팩토링은 걷잡을 수 없어지기 전에 미리 하자.

## 어려웠던 점
### 1. 레거시를 미루다보니 리팩토링 시에 더 큰 시간이 들었다. 
- 리팩토링은 작은 단계에서 미리 해두면 좋다. 

### 2. 클래스 책임 단일화
- 정적 페이지를 반환하는 handler에서 동적 렌더링까지 진행하려니 다양한 의존성이 생겼다. 
- 책임 단일화를 하지 못해 클래스가 비대해진 문제였다.  

# 🤔 2. 회고 (KPT)
## Keep (잘한점)
### 1. 레거시를 리팩토링 한 것
- 귀찮아서 유틸 클래스에 중복 메서드 쌓아두던 것을 리팩토링 했다. 
- 리팩토링은 할 수 있을 때 작은 단위에서 하는 것이 편하다는 것을 몸소 느꼈다. 

### 2. 종프회의에서 개발 일정을 명확히 정한 것
- 슬슬 종프를 시작해야 하는 시기가 다가옴에 따라 일정을 정할 필요가 있었다. 
- 개발 파트가 다 모인 김에 종프 미팅 일정과 사전에 정해야 할 목록을 리스트업 했다.

## Problem (개선할 점)
### 1. 여전히 개발 속도가 느리다. 
- 금요일에 사실상 개발 마감인데 아직도 기능 구현 중이다. 
- 더군다나 오늘 리팩토링을 했다. 일단 당장 기능 구현부터 하자. 

### 2. 카페인 좀 줄이자. 
- 요즘 맨날 커피를 먹다보니 카페인 없이 살 수 없는 몸이 되어버렸다. 
- 오전에만 마시고 점심을 적게 먹자..

## Try (해결책)
- 남은 시간이 얼마 남지 않은만큼 기능구현에 집중하자. 
  - 돌아가는 쓰레기라도 만들어야지..
- 카페인의 대체품을 찾자.
  - 껌, 간식, 물 등 (껌은 너무 버릇없어 보일지도)

## 자체 평가
리팩토링에 심취해서 기능구현을 많이 진행하지 못했다. 리팩토링을 한 것은 칭찬할만 하지만 기능 구현이 우선이다. 
아무리 이쁘고 잘난 코드를 짰더라도 제대로 동작하지 않으면 말짱 도루묵이다. 내일은 기능 개발을 제발 끝내자.

# 📚 3. 학습 내용
.

# 💁‍ Todo list
- [x] 오전 강의 
  - [x] HTTP 통신 학습
  - [x] CICD 및 배포
- [ ] 3주차 과제
  - [ ] index.html에서 이미지 보여주기
  - [ ] DB 연동 (H2, JDBC) --> 게시글 저장
  - [ ] mypage에 프로필 이미지 변경하기
  - [ ] index.html에서 프로필 보여주기
  - [ ] javadoc 학습하기
  - [ ] 클래스, public 메소드에 javadoc 형식의 주석
  - [ ] Github Pages로 배포하기
- [ ] 예외 처리
  - [ ] 사용자 회원가입
  - [ ] 사용자 로그인
  - [ ] 글쓰기 입력
- [ ] 수환님 코드 리뷰

# 끄적끄적
네트워크 vs HTTP
- 브라우저에 입력한 도메인 codesquad.kr 화면을 보기까지의 과정을 조사

와이파이에 연결하면 default nameserver 주소를 dhcp로 받아오는데, 이게 DNS 서버 주소다.
default gateway 주소를 통해 DNS 서버에 해당 url에 대한 ip 주소를 받아온다. 
이를 look up이라고 한다. ip 주소를 받아오면 해당 ip 주소의 80 port로 접근한다. 

- OSI 7 layers와 TCP/IP 4 layers의 구성을 이해, 두 가지 레이어 모델의 차이는 무엇인가?
1. OSI 7계층 (국제 표준)
   - Application --> http가 여기에 속함. 사람이 해석 가능
   - Presentation
   - Session
   - Transport
   - Network
   - Data Link
   - Physical
2. TCP/IP 4계층 (사실 표준)
   - Application
   - Transport
   - Internet
   - Network Access

- HTTP의 Stateless란?
  
두 컴퓨터는 한 번 요청에 대한 응답이 끝나고 나면 기억하지 않는다. 즉 재요청을 보냈을 때, 이전에 보냈었던 주체인지 기억하지 못한다. 
장점은 서버가 모든 클라이언트를 기억할 필요가 없어서 단순해진다는 점이 있다. 그래서 분산 서버를 구성하기 쉽다. 
단점은 로그인 같이 상태를 기억해야 할 필요가 있는 경우 불편하다.

이러한 단점을 해결하기 위해서 쿠키, 세션 같은 부가적인 정보를 사용해서 클라이언트의 정보를 저장해두는 방법이 있다. 

- 하지만 State상태 를 관리해야하는 이유는? 
  - 어떤 방법들이 있는지 3가지 조사?
    1. 쿠키
    2. 세션
       - 세션 자체는 서버의 인메모리에 저장하는 것인데, 이걸 서버간 동기화를 위해서 캐시나 DB에 저장하는 느낌이다.
       - 고가용성 --> availability 를 확보하기 위해 여러 대의 서버를 운영하기 위해서 상태를 원격지에 (DB, 캐시) 저장하거나 토큰 자체에 정보를 저장하고 있는 JWT를 쓰는 것이다. 
    3. JWT
    4. 클라이언트의 로컬 스토리지, 세션 스토리지
    5. 서버의 DB, Redis 캐시
  - 대표적으로 쿠키와 세션의 차이 개념 정리 
  - JWT란? 
    - 토큰을 구성하는 내용? 
    - access, refresh token 의 차이


- CI
  - 정의
    - Continuous Integration
  - 왜 필요한가?
    - 개발을 부분적으로 나눠서 진행할텐데 통합을 자동으로 진행하고 테스트할 수 있으면 개발 효율이 올라가기 때문이다. 
-CD 
  - 정의 
    - Continuous Deployment(Delivery)
    - Delivery는 CI의 결과물을 실행하려고 하는 서버에 전달, Deployment는 실행 배포를 하는 것이다. 
  - CI와 어떤 차이가 있는지?
    - CI는 합치고 테스트 하는 것이 목적이면, deployment는 배포가 목적이다.

- DevOps 문화란 무엇인가?
  - 개발자가 운영까지 생각해야 한다는 개념이다. 운영을 고려한 개발이 되어야 운영에 드는 리소스가 줄어들기 때문이다. 

- CI/CD 파이프라인을 구성하는 요소를 나열
  - 커밋/푸시, 빌드, 테스트, 배포, 모니터링

- 배포 전략에 대해서 3가지만 조사해보기
  - 빅뱅 : 기존 서비스를 내리고 새로운 버전을 실행하는 것 
  - 무중단 배포 : 
    - 롤링 배포 : 서버의 일부를 점차적으로 새로운 버전으로 갈아끼우는 것
    - 카나리 배포 : 이전 버전, 새로운 버전의 물리적 서버를 나누고 트래픽을 하나씩 옮겨보면서 문제가 없는지 점차적으로 트래픽을 옮기는 것이다. 
    - 블루-그린 배포 : 

- Observability 를 구성하는 요소
  - 구성 요소들의 개념에 대해서 정리
    - 로그(log), 메트릭(metric)(=지표, 숫자 데이터), 추적(trace)(=요청이 들어와서 흘러가는 과정을 추적하는 느낌) 
    - application 관측이 위의 3가지가 있어야 가능하다. 